<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>MIRA | Login</title>
</head>
<body>
    <div class="auth-container">
        <h1>Login na MIRA</h1>
        <form id="loginForm">
            <label for="loginEmail">Email:</label>
            <input type="email" id="loginEmail" value="teste@mira.com" required>

            <label for="loginPassword">Senha:</label>
            <input type="password" id="loginPassword" value="123456" required>
            
            <button type="submit">Entrar</button>
        </form>
        
        <p class="switch-form">
            Não tem conta? 
            <a href="pages/register.html">Crie sua conta aqui!</a>
        </p>
        
        <div id="apiResults" class="status-box">
            </div>
    </div>

    <script src="../js/conn.js"></script>
    <script src="../js/app.js"></script>
    
    <script>
        // LIGAÇÃO DO DOM: Captura o envio do formulário
        document.getElementById('loginForm').addEventListener('submit', function(event) {
            event.preventDefault(); // Impede o recarregamento da página

            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            loginUser(email, password); // Chama a função de login do app.js
        });
        
        // if (localStorage.getItem('authToken')) {
        //     alert('Você já está logado. Redirecionando...');
        //     window.location.href = 'pages/catalog.html';
        // }
    </script>
</body>
</html>